提出制作物の説明テキストです. 


ファイル・ディレクトリのリスト

Main.cpp ... アプリケーションを作成するためのソースコードです. 
READ_ME.txt ... このテキストです. 
o(sMs)l drone3D.mp4  ... アプリケーションを動かしたときの様子を撮った動画になります. 

今回は容量の都合上実行ファイルなどをすべてまとめたファイルを送信することが難しかったため, ソースコードと動画, 説明文をまとめたzipファイルを提出させていただきました. 

<<<描画画面の説明>>>
動いている灰色の点…自動航行しているドローン
青色の球…最終目的地(ゴール)
クリーム色の障害物…地図に載っている壁
赤色の障害物…地図に載っていない障害物
左上の座標…ドローンの座標です. (x座標, y座標, 階層番号)となっています. 
画面が一瞬で切り替わるタイミングで階層移動を行っています. 左上の座標を見ると階層移動の様子がよくわかると思います. 


成果物の概要
「三次元空間でドローンを目的地まで安全かつ効率的に自動で飛ばす」ことを目標にC++のプログラムを用いて5人でアプリケーションを制作しました. 
このアプリケーションはドローンにあらかじめ地図データを用意し, その地図データとジャイロセンサー, レーザーレンジファインダーを用いて, 
目的地までドローンが自動で航行するシミュレーションになっています. 
経路探索にはダイクストラ法を採用し, 3次元空間における最短路は2次元空間のダイクストラを層状に繰り返すことで疑似的に実装しました. 
航行時, 地図データにない障害物があった場合(現実では地図が古かった場合など)にも, レーザーレンジファインダーを用いて自動で回避し, 目標地まで到達します. 
また, シミュレーションの可視化のために描画ソフトにC++と相性のいいSiv3Dを採用しました. 
さらに, ドローンの航行様子の描画の他にもシミュレーション時に必要になる地図データを簡単に作成するアプリケーションもSiv3Dを用いて開発しました. 



主な作業担当箇所、その解説
自分は主に障害物回避機能に関する箇所の実装を担当しました(主にMain.cppの955行〜1380行あたりになります) . 
障害物回避機能は, ドローンの航行中, ドローンに搭載されているレーザーレンジファインダーにより地図上にない障害物を検知した場合, 
その障害物を自動で回避してから目的地に再度向かうための機能となっています. 
障害物回避のアルゴリズムは, 
1.  経路探索プログラムにより次に目的地となる点を取得(この点は地図上では現在地からまっすぐ進めばたどり着ける点になっています)
2.  現在地からまっすぐ目的地に向かって1座標進む. 目的地に到達したなら1へ
3.  前後左右に障害物があるか探知
4.  次に進みたい方向に障害物が見つかったら5へ, なければ2へ
5.  進みたい方向に障害物がなくなるまで右(左)に, その途中で壁にぶつかったら左(右)に移動
6.  進みたい方向に進めるようになったら2へ, 再度目的地を目指す
といったものになっています. 
これによりある程度簡単な形をした障害物であれば回避して進むことが可能になりました. 
課題としては, 周りを囲むような形やジグザグした形の障害物への対応が残りました. 
対案に, 左右どちらに動いても進行できるようにならない場合はさらに右(左)へ行けるようになるまで後退したり, どうしても進行できない場合は階層移動したりなどを考えましたが, 
納期に間に合わせるためにも, その時点までのものを使って今の形まで仕上げました. 


成果物に対しての自身の評価
最初に目標としていた「三次元空間でドローンを目的地まで安全かつ効率的に自動で飛ばす」ことは限定的にではありますが, 
三次元空間の階層化, 不測の障害物の回避, 地図の端点を抽出してダイクストラ法での経路探索など, チーム内で意見を出し合い工夫して制作することで達成できました. 
また, 開発の進め方に関しても, 以前に行ったチーム制作活動での反省を活かし, 役割分担は開発内容ごとに分かれて後で統合する形を取り, スケジュールも最初に難しい部分を全員で担当し完成の目処をつけ, 
次に分かれて追加の機能開発, さらにそれを統合して動くものを作ってから最後に仕上げという方式にすることで比較的スムーズに開発を進めることができました. 
しかし統合作業とデバッグに思いがけず時間がかかってしまい, 追加や改善したい機能すべては実装できなかったため, スケジュールをさらに余裕を持って立てることや, 
新しく使うソフトについての事前調査の重要性など, 教訓も多く得られる制作でした. また, 今回はオブジェクト指向での制作ができていなかったため, 次の製作物ではオブジェクト指向を
重視したコーディングにも挑戦したいと思います. 

